#:kivy 2.0.0

<AssistantScreen>:
    assistantText: assistantText
    responseText: responseText
    user_input: user_input
    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)  # Adjust overall spacing between widgets
        canvas.before:
            Color:
                rgba: 0.9529, 0.9569, 0.9647, 1  # Light grey background
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(60)
            Button:
                text: '< Back'
                size_hint_x: None
                width: dp(100)
                on_release: app.root.current = 'login'  # Navigate back to the login screen

            Image:
                source: 'WBCLogo_red.png'
                size_hint: None, None
                size: dp(250), dp(50)
                pos_hint: {'center_x':1, 'center_y': 0.5}
        Widget:
            # Spacer
            size_hint_y: None
            height: dp(50)
    
        
        Label:
            text: "Assistant:"
            size_hint_y: 0.8
            height: dp(40)
            font_size: '20sp'
            color: 0.1216, 0.1098, 0.3098, 1
            size_hint_x: 1
            text_size: self.width, None
            valign: 'middle'
            halign: 'left'
        Widget:
            # Spacer
            size_hint_y: None
            height: dp(10)
        Label:
            text: "<What the assistant said>"
            id: assistantText
            size_hint_y: 0.8
            height: dp(40)
            font_size: '15sp'
            color: 0.1216, 0.1098, 0.3098, 1
            size_hint_x: 1
            text_size: self.width, None
            valign: 'middle'
            halign: 'left'
        
        Widget:
            # Spacer
            size_hint_y: None
            height: dp(50)

        Label:
            text: 'Your response:'
            size_hint_y: 0.8
            height: dp(40)
            font_size: '20sp'
            color: 0.1216, 0.1098, 0.3098, 1
            size_hint_x: 1
            text_size: self.width, None
            valign: 'middle'
            halign: 'right'
        Widget:
            # Spacer
            size_hint_y: None
            height: dp(10)
        Label:
            text: '...'
            id: responseText
            size_hint_y: 0.8
            height: dp(40)
            font_size: '15sp'
            color: 0.1216, 0.1098, 0.3098, 1
            size_hint_x: 1
            text_size: self.width, None
            valign: 'middle'
            halign: 'right'

        Widget:
            # Spacer to add space between the label and text input area
            size_hint_y: None
            height: dp(300)

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(50)
            TextInput:
                id: user_input
                hint_text: 'Type your message here...'
                size_hint_x: None
                width: dp(230)
                multiline: False

            Button:
                text: 'Send'
                background_color: 0.8549, 0.0902, 0.0627, 1  # Red color
                size_hint_x: None
                width: dp(80)
                on_release: root.submitTextInput()  # Process the user's input
